webpackJsonp([35],{IQ7z:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("m04b"),i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cdetail",attrs:{id:"wrapper"}},[n("div",{attrs:{id:"head"}},[n("span",{on:{click:t.back}},[n("img",{attrs:{src:a("FnU6")}})]),t._v(" "),n("div",[t._v("轨迹详情")]),t._v(" "),n("span",{})]),t._v(" "),n("div",{staticClass:"big-main",staticStyle:{overflow:"hidden"},attrs:{id:"main"}},[n("div",{staticClass:"csearch-top"},[n("div",{staticClass:"csearch-inner"},[n("div",{staticClass:"csearch-group",on:{click:t.timeshow}},[n("img",{attrs:{src:a("taJ5")}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.mydate,expression:"mydate"}],attrs:{type:"text",placeholder:"请选择日期"},domProps:{value:t.mydate},on:{input:function(e){e.target.composing||(t.mydate=e.target.value)}}}),t._v(" "),n("img",{staticStyle:{height:".15rem",width:".27rem"},attrs:{src:a("x4uO")}})]),t._v(" "),n("div",{staticClass:"go-search flexc",on:{click:function(e){t.myajax()}}},[t._v("\n\t\t\t\t\t查询\n\t\t\t\t")])])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map"},[e("div",{attrs:{id:"map-container"}})])}]};var s=function(t){a("twCL")},r=a("VU/8")(n.a,i,!1,s,null,null);e.default=r.exports},m04b:function(t,e,a){"use strict";(function(t){e.a={name:"cdetail",data:function(){return{mydate:"请选择日期",startshow:!1,mydata:[]}},mounted:function(){this.myajax()},methods:{myajax:function(){plus.nativeUI.showWaiting("数据加载中");var e=this,a={cuserId:e.searchid,createTime1:e.mydate};"请选择日期"==e.mydate&&delete a.createTime1,t.ajax({type:"get",url:e.service+"/queryAllWorkByCreateTime",dataType:"json",data:a,success:function(t){if(plus.nativeUI.closeWaiting(),t.data.length>=2){var a=t.data[e.mapid].split("],");a.pop();for(var n=0;n<a.length;n++)a[n]=a[n]+"]",n%2==1&&e.mydata.push(JSON.parse(a[n]));e.mylocation()}else plus.nativeUI.toast("该用户暂无轨迹")}})},mylocation:function(){var t=this,e=new AMap.Map("map-container",{zoom:15,center:[116.39,39.9]});AMapUI.load(["ui/misc/PathSimplifier"],function(a){a.supportCanvas?function(a){var n=new a({zIndex:100,map:e,getPath:function(t,e){return t.path},getHoverTitle:function(t,e,a){return a>=0?t.name+"，点:"+a+"/"+t.path.length:t.name+"，点数量"+t.path.length},renderOptions:{pathLineStyle:{strokeStyle:"white",lineWidth:4,dirArrowStyle:!0}}});n.setData([{name:"轨迹名称",path:t.mydata}]),n.createPathNavigator(0,{loop:!0,speed:500,pathNavigatorStyle:{width:24,height:24,content:a.Render.Canvas.getImageContent("../../../static/plane.png",onload,onerror),strokeStyle:null,fillStyle:null,pathLinePassedStyle:{lineWidth:6,strokeStyle:"#1e81d2",dirArrowStyle:{stepSpace:15,strokeStyle:"white"}}}}).start()}(a):alert("当前环境不支持 Canvas！")})},back:function(){this.$router.back()},timeshow:function(t){var e=this;plus.nativeUI.pickDate(function(t){var a=t.date;e.mydate=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()},function(t){console.log("未选择日期："+t.message)})},startchang:function(t,e){this.date=e},opennew:function(t){this.$router.push({name:t})}},computed:{service:function(){return this.$store.state.service},searchid:function(){return this.$store.state.searchid},mapid:function(){return this.$store.state.mapid}},components:{THead:function(t){return a.e(50).then(function(){var e=[a("AC15")];t.apply(null,e)}.bind(this)).catch(a.oe)}}}}).call(e,a("7t+N"))},twCL:function(t,e){}});
//# sourceMappingURL=35.a41da4bd8f2f5bd3c39c.js.map