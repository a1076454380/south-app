{"version":3,"sources":["webpack:///src/components/mapchange.vue","webpack:///./src/components/mapchange.vue?870d","webpack:///./src/components/mapchange.vue"],"names":["mapchange","name","data","map","marker","mounted","that","this","plus","geolocation","getCurrentPosition","p","lng","coords","longitude","lat","latitude","mapcenter","$store","state","external__AMap__default","a","Map","zoom","center","JSON","parse","layers","TileLayer","Satellite","RoadNet","Marker","icon","position","offset","Pixel","setMap","event","addListener","e","service","Geocoder","city","getAddress","lnglat","status","result","info","setPosition","alert","methods","mapshow","type","$emit","computed","components_mapchange","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","_v","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"iIAgBAA,GACAC,KAAA,YACAC,KAFA,WAGA,OACAC,IAAA,GACAC,OAAA,KAGAC,QARA,WASA,IAAAC,EAAAC,KACAC,KAAAC,YAAAC,mBAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAE,OAAAC,UACAC,EAAAJ,EAAAE,OAAAG,SACAC,EAAA,IAAAL,EAAA,IAAAG,EAAA,IACAT,EAAAY,OAAAC,MAAAP,MACAN,EAAAY,OAAAC,MAAAJ,MACA,IAAAZ,EAAA,IAAAiB,EAAAC,EAAAC,IAAA,aACAC,KAAA,GACAC,OAAAC,KAAAC,MAAAT,GACAU,QAAA,IAAAP,EAAAC,EAAAO,UAAAC,UAAA,IAAAT,EAAAC,EAAAO,UAAAE,WAEA1B,EAAA,IAAAgB,EAAAC,EAAAU,QACAC,KAAA,kEACAC,SAAAR,KAAAC,MAAAT,GACAiB,OAAA,IAAAd,EAAAC,EAAAc,OAAA,UAEA/B,EAAAgC,OAAAjC,GAeAiB,EAAAC,EAAAgB,MAAAC,YAAAnC,EAAA,QAdA,SAAAoC,GACAnB,EAAAC,EAAAmB,QAAA,2BACA,IAAApB,EAAAC,EAAAoB,UACAC,KAAA,KAEAC,WAAAJ,EAAAK,OAAA,SAAAC,EAAAC,GACA,aAAAD,GAAA,OAAAC,EAAAC,OACA3C,EAAA4C,aAAAT,EAAAK,OAAAhC,IAAA2B,EAAAK,OAAA7B,MACAT,EAAAY,OAAAC,MAAAP,IAAA2B,EAAAK,OAAAhC,IACAN,EAAAY,OAAAC,MAAAJ,IAAAwB,EAAAK,OAAA7B,YAMA,SAAAwB,GACAU,MAAA,iCAGAC,SACAC,QAAA,SAAAC,GACA7C,KAAA8C,MAAA,UAAAD,KAGAE,UACA1C,IADA,WAEA,OAAAL,KAAAW,OAAAC,MAAAP,KAEAG,IAJA,WAKA,OAAAR,KAAAW,OAAAC,MAAAJ,OCrEAwC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAlD,KAAamD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,sBAAgCF,EAAA,OAAYG,OAAOC,GAAA,eAAkBP,EAAAQ,GAAA,KAAAL,EAAA,OAAwBE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,MAAAI,IAAsBC,MAAA,SAAAC,GAAyBX,EAAAN,QAAA,OAAiBM,EAAAQ,GAAA,sBAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAAqDE,YAAA,MAAAI,IAAsBC,MAAAV,EAAAN,WAAqBM,EAAAQ,GAAA,2BAExXI,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAxE,EACAuD,GATA,EAVA,SAAAkB,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/52.37b6a199d1c8a1ec9005.js","sourcesContent":["<template>\r\n\t<div class=\"wrapper mapchange\">\r\n\t\t<div id=\"container\"></div>\r\n\t\t<div class=\"btn-box\">\r\n\t\t\t<div class=\"btn\" @click=\"mapshow(1)\">\r\n\t\t\t\t确定\r\n\t\t\t</div>\r\n\t\t\t<div class=\"btn\" @click=\"mapshow\">\r\n\t\t\t\t取消\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport AMap from 'AMap'\r\n\texport default {\r\n\t\tname: 'mapchange',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmap: '',\r\n\t\t\t\tmarker: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar that = this\r\n\t\t\tplus.geolocation.getCurrentPosition(function(p) {\r\n\t\t\t\tvar lng = p.coords.longitude\r\n\t\t\t\tvar lat = p.coords.latitude\r\n\t\t\t\tvar mapcenter='[' + lng + ',' + lat + ']'\r\n\t\t\t\tthat.$store.state.lng =lng\r\n\t\t\t\tthat.$store.state.lat =lat\r\n\t\t\t\tvar map = new AMap.Map('container', {\r\n\t\t\t\t\tzoom: 15,\r\n\t\t\t\t\tcenter: JSON.parse(mapcenter),\r\n\t\t\t\t\tlayers: [new AMap.TileLayer.Satellite(),new AMap.TileLayer.RoadNet()]\r\n\t\t\t\t})\r\n\t\t\t\tvar marker = new AMap.Marker({\r\n\t\t\t\t    icon: \"http://27.54.248.14:8080/uploadImg/image/lryh/20180730/icon.png\",\r\n\t\t\t\t    position:JSON.parse(mapcenter),\r\n\t\t\t\t    offset: new AMap.Pixel(-32, -32) \r\n\t\t\t\t});\r\n\t\t\t\tmarker.setMap(map);\r\n\t\t\t\tvar _onClick = function(e) {\r\n\t\t\t\t\tAMap.service('AMap.Geocoder', function() {\r\n\t\t\t\t\t\tvar geocoder = new AMap.Geocoder({\r\n\t\t\t\t\t\t\tcity: \"\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tgeocoder.getAddress(e.lnglat, function(status, result) {\r\n\t\t\t\t\t\t\tif(status === 'complete' && result.info === 'OK') {\r\n\t\t\t\t\t\t\t\tmarker.setPosition([e.lnglat.lng, e.lnglat.lat]); \r\n\t\t\t\t\t\t\t\tthat.$store.state.lng = e.lnglat.lng\r\n\t\t\t\t\t\t\t\tthat.$store.state.lat = e.lnglat.lat\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tAMap.event.addListener(map, \"click\", _onClick);\r\n\t\t\t}, function(e) {\r\n\t\t\t\talert('定位失败,请检查网络是否正常，或者是否打开了定位服务');\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tmapshow: function(type) {\r\n\t\t\t\tthis.$emit('mapshow',type)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tlng() {\r\n\t\t\t\treturn this.$store.state.lng\r\n\t\t\t},\r\n\t\t\tlat() {\r\n\t\t\t\treturn this.$store.state.lat\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.mapchange {\r\n\t\tposition: fixed!important;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbackground: rgba(0, 0, 0, .5);\r\n\t\tz-index: 99;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: column;\r\n\t\t#container {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t\t.btn-box {\r\n\t\t\tdisplay: flex;\r\n\t\t\tbackground: #1e81d2;\r\n\t\t\twidth: 100%;\r\n\t\t\t.btn {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tline-height: .8rem;\r\n\t\t\t\tcolor: white;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/mapchange.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper mapchange\"},[_c('div',{attrs:{\"id\":\"container\"}}),_vm._v(\" \"),_c('div',{staticClass:\"btn-box\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.mapshow(1)}}},[_vm._v(\"\\n\\t\\t\\t确定\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.mapshow}},[_vm._v(\"\\n\\t\\t\\t取消\\n\\t\\t\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-67adc824\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/mapchange.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-67adc824\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mapchange.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./mapchange.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./mapchange.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-67adc824\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./mapchange.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/mapchange.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}