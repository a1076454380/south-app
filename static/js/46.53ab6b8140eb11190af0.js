webpackJsonp([46],{HqL0:function(t,e,a){"use strict";(function(t){e.a={name:"adetail",data:function(){return{mydate:"请选择日期",startshow:!1,defaultDate:new Date,mydata:[]}},mounted:function(){this.myajax()},methods:{myajax:function(){var e=this,a={cuserId:e.searchid};"请选择日期"==e.mydate&&delete a.createTime1,t.ajax({type:"get",url:e.service+"/queryCorkByCworkId",dataType:"json",data:a,success:function(t){if(0==t.data.length||"null"==t.data[0]){var a=function(){plus.nativeUI.toast("该员工暂无轨迹!")};window.plus?a():document.addEventListener("plusready",a,!1)}else{var n=t.data[0].split("],");n.pop();for(var s=0;s<n.length;s++)n[s]=n[s]+"]",s%2==1&&e.mydata.push(JSON.parse(n[s]));console.log(e.mydata),e.mylocation()}}})},mylocation:function(){var t=this,e=new AMap.Map("map-container",{zoom:15,center:[116.39,39.9]});AMapUI.load(["ui/misc/PathSimplifier"],function(a){a.supportCanvas?function(a){var n=new a({zIndex:100,map:e,getPath:function(t,e){return t.path},getHoverTitle:function(t,e,a){return a>=0?t.name+"，点:"+a+"/"+t.path.length:t.name+"，点数量"+t.path.length},renderOptions:{pathLineStyle:{strokeStyle:"white",lineWidth:4,dirArrowStyle:!0}}});n.setData([{name:"轨迹名称",path:t.mydata}]),n.createPathNavigator(0,{loop:!0,speed:500,pathNavigatorStyle:{width:24,height:24,content:a.Render.Canvas.getImageContent("../../../static/plane.png",onload,onerror),strokeStyle:null,fillStyle:null,pathLinePassedStyle:{lineWidth:6,strokeStyle:"#1e81d2",dirArrowStyle:{stepSpace:15,strokeStyle:"white"}}}}).start()}(a):alert("当前环境不支持 Canvas！")})},back:function(){this.$router.back()},timeshow:function(t){this.startshow=!0},startchang:function(t,e){this.date=e},opennew:function(t){this.$router.push({name:t})}},computed:{service:function(){return this.$store.state.service},searchid:function(){return this.$store.state.searchid}},components:{THead:function(t){return a.e(50).then(function(){var e=[a("AC15")];t.apply(null,e)}.bind(this)).catch(a.oe)}}}}).call(e,a("7t+N"))},M54j:function(t,e){},a6rk:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("HqL0"),s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cdetail",attrs:{id:"wrapper"}},[n("div",{attrs:{id:"head"}},[n("span",{on:{click:t.back}},[n("img",{attrs:{src:a("FnU6")}})]),t._v(" "),n("div",[t._v("轨迹详情")]),t._v(" "),n("span",{})]),t._v(" "),n("div",{staticClass:"big-main",staticStyle:{overflow:"hidden"},attrs:{id:"main"}},[n("div",{staticClass:"csearch-top"},[n("calendar",{attrs:{defaultDate:t.defaultDate},on:{change:t.startchang},model:{value:t.startshow,callback:function(e){t.startshow=e},expression:"startshow"}}),t._v(" "),n("div",{staticClass:"csearch-inner"},[n("div",{staticClass:"csearch-group",on:{click:t.timeshow}},[n("img",{attrs:{src:a("taJ5")}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.mydate,expression:"mydate"}],attrs:{type:"text",placeholder:"请选择日期"},domProps:{value:t.mydate},on:{input:function(e){e.target.composing||(t.mydate=e.target.value)}}}),t._v(" "),n("img",{staticStyle:{height:".15rem",width:".27rem"},attrs:{src:a("x4uO")}})]),t._v(" "),n("div",{staticClass:"go-search flexc"},[t._v("\n\t\t\t\t\t查询\n\t\t\t\t")])])],1),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map"},[e("div",{attrs:{id:"map-container"}})])}]};var i=function(t){a("M54j")},r=a("VU/8")(n.a,s,!1,i,null,null);e.default=r.exports}});
//# sourceMappingURL=46.53ab6b8140eb11190af0.js.map