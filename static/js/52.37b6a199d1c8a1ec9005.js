webpackJsonp([52],{"0iOk":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("+aT9"),o=n.n(a),i={name:"mapchange",data:function(){return{map:"",marker:""}},mounted:function(){var t=this;plus.geolocation.getCurrentPosition(function(e){var n=e.coords.longitude,a=e.coords.latitude,i="["+n+","+a+"]";t.$store.state.lng=n,t.$store.state.lat=a;var s=new o.a.Map("container",{zoom:15,center:JSON.parse(i),layers:[new o.a.TileLayer.Satellite,new o.a.TileLayer.RoadNet]}),r=new o.a.Marker({icon:"http://27.54.248.14:8080/uploadImg/image/lryh/20180730/icon.png",position:JSON.parse(i),offset:new o.a.Pixel(-32,-32)});r.setMap(s);o.a.event.addListener(s,"click",function(e){o.a.service("AMap.Geocoder",function(){new o.a.Geocoder({city:""}).getAddress(e.lnglat,function(n,a){"complete"===n&&"OK"===a.info&&(r.setPosition([e.lnglat.lng,e.lnglat.lat]),t.$store.state.lng=e.lnglat.lng,t.$store.state.lat=e.lnglat.lat)})})})},function(t){alert("定位失败,请检查网络是否正常，或者是否打开了定位服务")})},methods:{mapshow:function(t){this.$emit("mapshow",t)}},computed:{lng:function(){return this.$store.state.lng},lat:function(){return this.$store.state.lat}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper mapchange"},[n("div",{attrs:{id:"container"}}),t._v(" "),n("div",{staticClass:"btn-box"},[n("div",{staticClass:"btn",on:{click:function(e){t.mapshow(1)}}},[t._v("\n\t\t\t确定\n\t\t")]),t._v(" "),n("div",{staticClass:"btn",on:{click:t.mapshow}},[t._v("\n\t\t\t取消\n\t\t")])])])},staticRenderFns:[]};var r=n("VU/8")(i,s,!1,function(t){n("9xNS")},null,null);e.default=r.exports},"9xNS":function(t,e){}});
//# sourceMappingURL=52.37b6a199d1c8a1ec9005.js.map