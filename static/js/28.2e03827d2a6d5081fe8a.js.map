{"version":3,"sources":["webpack:///./src/components/health/hwork.vue?e161","webpack:///./src/components/health/hwork.vue","webpack:///src/components/health/hwork.vue"],"names":["health_hwork","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","name","directives","rawName","value","expression","on","click","alerttab","_v","staticStyle","position","height","overflow-y","_l","val","$event","opennew","cworkId","width","_s","createTime1","cworkTitle","margin-right","src","__webpack_require__","stopPropagation","workphotod","pageNum","workphoto","lastPage","next","_e","length","upload","type","placeholder","domProps","input","target","composing","workupload","staticRenderFns","__vue_styles__","ssrContext","Component","normalizeComponent","hwork","__webpack_exports__","data","uploadtarget","server","files","alertboo","pageSize","list","mounted","$store","state","tfoot","service","methods","myajax","plusReady","plus","nativeUI","showWaiting","window","document","addEventListener","that","$","ajax","url","dataType","cuserId","localStorage","getItem","status","success","res","console","log","i","push","closeWaiting","_plusReady","toast","cworkImg","_plusReady2","actionSheet","title","cancel","buttons","e","index","_plusReady3","windexid","$router","camera","album","getCamera","captureImage","p","io","resolveLocalFileSystemURL","entry","img_path","toLocalURL","getElementById","setAttribute","upload_img","alert","message","filename","gallery","pick","path","filter","substr","lastIndexOf","start_upload","wt","task","uploader","createUpload","method","t","responseText","json","eval","close","addData","getUid","f","addFile","key","start","Math","floor","random","toString","computed","components","THead","resolve","then","__WEBPACK_AMD_REQUIRE_ARRAY__","bind","catch","oe","TFoot"],"mappings":"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","file":"static/js/28.2e03827d2a6d5081fe8a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"workcamera\",attrs:{\"id\":\"warpper\"}},[_c('transition',{attrs:{\"name\":\"alert\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alertboo),expression:\"alertboo\"}],staticClass:\"alert\",on:{\"click\":_vm.alerttab}},[_c('div',{staticClass:\"alert-inner\"},[_c('div',{staticClass:\"alert-text\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t日期填写不完整\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"alert-setting\"},[_c('div',{staticClass:\"setting-group\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t确定\\n\\t\\t\\t\\t\\t\")])])])])]),_vm._v(\" \"),_c('t-head'),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"relative\"},attrs:{\"id\":\"main\"}},[_c('div',{staticClass:\"box-group\",staticStyle:{\"height\":\"calc(100% - 3rem)\",\"overflow-y\":\"scroll\"}},[_vm._l((_vm.list),function(val){return _c('div',{staticClass:\"group\",on:{\"click\":function($event){_vm.opennew('hworkdetail',val.cworkId)}}},[_c('div',{staticClass:\"riqi\"},[_c('div',{staticClass:\"circle width12\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"width\":\"auto\"}},[_vm._v(_vm._s(val.createTime1))])]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(val.cworkTitle))]),_vm._v(\" \"),_c('img',{staticStyle:{\"margin-right\":\".2rem\"},attrs:{\"src\":require(\"../../../static/shanchu.png\")},on:{\"click\":function($event){$event.stopPropagation();_vm.workphotod(val.cworkId)}}})])}),_vm._v(\" \"),(_vm.pageNum<_vm.workphoto.lastPage)?_c('div',{staticClass:\"more\",on:{\"click\":function($event){_vm.next()}}},[_vm._v(\"点击加载更多\")]):_vm._e(),_vm._v(\" \"),(_vm.pageNum>_vm.workphoto.lastPage||_vm.pageNum==_vm.workphoto.lastPage)?_c('div',{staticClass:\"more\"},[_vm._v(\"没有更多啦~\")]):_vm._e(),_vm._v(\" \"),(_vm.workphoto.length==0)?_c('p',[_vm._v(\"暂无数据\")]):_vm._e()],2)]),_vm._v(\" \"),_c('footer',[_c('div',{staticClass:\"box-upload\"},[_c('div',{staticClass:\"upload\"},[_c('img',{attrs:{\"src\":require(\"../../../static/upload02.png\"),\"id\":\"img1\"},on:{\"click\":function($event){_vm.upload('1')}}}),_vm._v(\" \"),_c('div',{staticClass:\"shangchuan\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cworkTitle),expression:\"cworkTitle\"}],staticClass:\"sck\",attrs:{\"type\":\"text\",\"placeholder\":\"请填写标题\"},domProps:{\"value\":(_vm.cworkTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.cworkTitle=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"sctext\",on:{\"click\":_vm.workupload}},[_c('span',[_vm._v(\"上传\")])])])])])]),_vm._v(\" \"),_c('t-foot')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f5ed9b92\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/health/hwork.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f5ed9b92\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./hwork.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./hwork.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./hwork.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f5ed9b92\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./hwork.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/health/hwork.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div class=\"workcamera\" id=\"warpper\">\r\n\t\t<transition name='alert'>\r\n\t\t\t<div class=\"alert\" v-show=\"alertboo\" @click=\"alerttab\">\r\n\t\t\t\t<div class=\"alert-inner\">\r\n\t\t\t\t\t<div class=\"alert-text\">\r\n\t\t\t\t\t\t日期填写不完整\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"alert-setting\">\r\n\t\t\t\t\t\t<div class=\"setting-group\">\r\n\t\t\t\t\t\t\t确定\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</transition>\r\n\t\t<t-head></t-head>\r\n\t\t<div id=\"main\" style=\"position: relative;\">\r\n\t\t\t<div class=\"box-group\" style=\"height: calc(100% - 3rem);overflow-y: scroll;\">\r\n\t\t\t\t\t\t\t<div class=\"group\" v-for=\"val in list\" @click=\"opennew('hworkdetail',val.cworkId)\">\r\n\t\t\t\t\t\t\t\t<div class=\"riqi\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"circle width12\"></div>\r\n\t\t\t\t\t\t\t\t\t<span style=\"width: auto;\">{{val.createTime1}}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span class=\"text\">{{val.cworkTitle}}</span>\r\n\t\t\t\t\t\t\t\t<img src=\"../../../static/shanchu.png\" @click.stop=\"workphotod(val.cworkId)\" style=\"margin-right: .2rem;\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"more\"  @click=\"next()\" v-if=\"pageNum&lt;workphoto.lastPage\">点击加载更多</div>\r\n\t\t\t\t\t\t\t<div class=\"more\"  v-if=\"pageNum&gt;workphoto.lastPage||pageNum==workphoto.lastPage\">没有更多啦~</div>\r\n\t\t\t\t\t\t\t<p v-if=\"workphoto.length==0\">暂无数据</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<div class=\"box-upload\">\r\n\t\t\t\t<div class=\"upload\">\r\n\t\t\t\t\t<img src=\"../../../static/upload02.png\" id=\"img1\" @click=\"upload('1')\">\r\n\t\t\t\t\t<div class=\"shangchuan\">\r\n\t\t\t\t\t\t<input class=\"sck\" type=\"text\" placeholder=\"请填写标题\" v-model=\"cworkTitle\"></input>\r\n\t\t\t\t\t\t<div class=\"sctext\" @click=\"workupload\"><span>上传</span></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\t\t<t-foot></t-foot>\r\n\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'hwork',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuploadtarget: '',\r\n\t\t\t\tserver: 'http://39.107.70.18/Transportation/uploadDriverImage',\r\n\t\t\t\tfiles: [],\r\n\t\t\t\talertboo: false,\r\n\t\t\t\tworkphoto: '',\r\n\t\t\t\tcworkTitle: '',\r\n\t\t\t\tpageNum:1,\r\n\t\t\t\tpageSize:10,\r\n\t\t\t\tlist:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$store.state.tfoot = 2\r\n\t\t\tthis.server = this.service + '/uploadworkImage'\r\n\t\t\tthis.next()\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tnext:function(){\r\n\t\t\t\tthis.pageNum++\r\n\t\t\t\tthis.myajax()\r\n\t\t\t},\r\n\t\t\tmyajax: function() {\r\n\t\t\t\tfunction plusReady(){\r\n\t\t\t\t\tplus.nativeUI.showWaiting('数据加载中~')\r\n\t\t\t\t}\r\n\t\t\t\tif(window.plus){\r\n\t\t\t\t\tplusReady();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdocument.addEventListener(\"plusready\",plusReady,false);\r\n\t\t\t\t}\r\n\t\t\t\tvar that = this\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: \"get\",\r\n\t\t\t\t\turl: that.service + \"/querAllCwork\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcuserId: localStorage.getItem('userid'),\r\n\t\t\t\t\t\tpageNum:that.pageNum,\r\n\t\t\t\t\t\tstatus:0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tthat.workphoto = res.data\r\n\t\t\t\t\t\t\tfor (var i=0;i<res.data.list.length;i++) {\r\n\t\t\t\t\t\t\t\tthat.list.push(res.data.list[i])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfor (var i=0;i<res.data.list.length;i++) {\r\n\t\t\t\t\t\t\t\tthat.list.push(res.data.list[i])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfunction plusReady(){\r\n\t\t\t\t\t\t\tplus.nativeUI.closeWaiting()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(window.plus){\r\n\t\t\t\t\t\t\tplusReady();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tdocument.addEventListener(\"plusready\",plusReady,false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tworkupload: function() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif(that.cworkTitle == '' || that.files == '') {\r\n\t\t\t\t\tfunction plusReady() {\r\n\t\t\t\t\t\t// 显示自动消失的提示消息\r\n\t\t\t\t\t\tplus.nativeUI.toast(\"请把信息填写完整！\");\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(window.plus) {\r\n\t\t\t\t\t\tplusReady();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdocument.addEventListener(\"plusready\", plusReady, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction plusReady() {\r\n\t\t\t\t\t// 显示自动消失的提示消息\r\n\t\t\t\t\tplus.nativeUI.showWaiting('上传中');\r\n\t\t\t\t}\r\n\t\t\t\tif(window.plus) {\r\n\t\t\t\t\tplusReady();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdocument.addEventListener(\"plusready\", plusReady, false);\r\n\t\t\t\t}\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: \"post\",\r\n\t\t\t\t\turl: that.service + \"/insertByCworkImg\",\r\n\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcuserId: localStorage.getItem('userid'),\r\n\t\t\t\t\t\tcworkTitle: that.cworkTitle,\r\n\t\t\t\t\t\tcworkImg: that.files\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif(res.status == 200) {\r\n\t\t\t\t\t\t\tthat.myajax()\r\n\r\n\t\t\t\t\t\t\tfunction plusReady() {\r\n\t\t\t\t\t\t\t\t// 显示自动消失的提示消息\r\n\t\t\t\t\t\t\t\tplus.nativeUI.closeWaiting();\r\n\t\t\t\t\t\t\t\tthat.cworkTitle = ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(window.plus) {\r\n\t\t\t\t\t\t\t\tplusReady();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdocument.addEventListener(\"plusready\", plusReady, false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tworkphotod: function(id) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar btnArray = [{\r\n\t\t\t\t\ttitle: \"删除\"\r\n\t\t\t\t}, ]; //选择按钮  1 2 3\r\n\t\t\t\tplus.nativeUI.actionSheet({\r\n\t\t\t\t\ttitle: \"请选择\",\r\n\t\t\t\t\tcancel: \"取消\",\r\n\t\t\t\t\tbuttons: btnArray\r\n\t\t\t\t}, function(e) {\r\n\t\t\t\t\tvar index = e.index;\r\n\t\t\t\t\tswitch(index) {\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\t\ttype: \"post\",\r\n\t\t\t\t\t\t\t\turl: that.service + \"/deleteCorkByCworkId\",\r\n\t\t\t\t\t\t\t\tdataType: 'json',\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tcworkId: id\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\tif(res.status == 200) {\r\n\t\t\t\t\t\t\t\t\t\tfunction plusReady() {\r\n\t\t\t\t\t\t\t\t\t\t\t// 显示自动消失的提示消息\r\n\t\t\t\t\t\t\t\t\t\t\tplus.nativeUI.toast(\"删除完成！\");\r\n\t\t\t\t\t\t\t\t\t\t\tthat.myajax()\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif(window.plus) {\r\n\t\t\t\t\t\t\t\t\t\t\tplusReady();\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tdocument.addEventListener(\"plusready\", plusReady, false);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tfunction plusReady() {\r\n\t\t\t\t\t\t\t\t\t\t\t// 显示自动消失的提示消息\r\n\t\t\t\t\t\t\t\t\t\t\tplus.nativeUI.toast(\"删除失败!\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tif(window.plus) {\r\n\t\t\t\t\t\t\t\t\t\t\tplusReady();\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tdocument.addEventListener(\"plusready\", plusReady, false);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\talerttab: function() {\r\n\t\t\t\tthis.alertboo = !this.alertboo\r\n\t\t\t},\r\n\t\t\topennew: function(target, id) {\r\n\t\t\t\tthis.$store.state.windexid = id\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: target\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupload: function(target) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tthat.files = []\r\n\t\t\t\tthat.uploadtarget = target\r\n\t\t\t\tvar btnArray = [{\r\n\t\t\t\t\ttitle: \"照相机\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttitle: \"相册\"\r\n\t\t\t\t}]; //选择按钮  1 2 3\r\n\t\t\t\tplus.nativeUI.actionSheet({\r\n\t\t\t\t\ttitle: \"请选择\",\r\n\t\t\t\t\tcancel: \"取消\",\r\n\t\t\t\t\tbuttons: btnArray\r\n\t\t\t\t}, function(e) {\r\n\t\t\t\t\tvar index = e.index;\r\n\t\t\t\t\tswitch(index) {\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tthat.camera();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\tthat.album();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcamera: function() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar cmr = plus.camera.getCamera();\r\n\t\t\t\tcmr.captureImage(function(p) {\r\n\t\t\t\t\t//成功\r\n\t\t\t\t\tplus.io.resolveLocalFileSystemURL(p, function(entry) {\r\n\t\t\t\t\t\tvar img_name = entry.name;\r\n\t\t\t\t\t\tvar img_path = entry.toLocalURL();\r\n\t\t\t\t\t\tdocument.getElementById('img' + that.uploadtarget).setAttribute('src', img_path)\r\n\t\t\t\t\t\tthat.upload_img(img_path);\r\n\t\t\t\t\t}, function(e) {\r\n\t\t\t\t\t\talert(\"读取拍照文件错误：\" + e.message);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}, function(e) {\r\n\t\t\t\t\talert(\"失败：\" + e.message);\r\n\t\t\t\t}, {\r\n\t\t\t\t\tfilename: '_doc/camera/',\r\n\t\t\t\t\tindex: 1\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\talbum: function() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tplus.gallery.pick(function(path) {\r\n\t\t\t\t\tdocument.getElementById('img' + that.uploadtarget).setAttribute('src', path)\r\n\t\t\t\t\tthat.upload_img(path);\r\n\t\t\t\t}, function(e) {\r\n\t\t\t\t\talert(\"取消选择图片\");\r\n\t\t\t\t}, {\r\n\t\t\t\t\tfilter: \"image\"\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tupload_img: function(p) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar n = p.substr(p.lastIndexOf('/') + 1);\r\n\t\t\t\tthat.files.push({\r\n\t\t\t\t\tname: \"uploadkey\",\r\n\t\t\t\t\tpath: p\r\n\t\t\t\t});\r\n\t\t\t\t//开始上传\r\n\t\t\t\tthat.start_upload();\r\n\t\t\t},\r\n\t\t\tstart_upload: function() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif(that.files.length <= 0) {\r\n\t\t\t\t\tplus.nativeUI.alert(\"没有添加上传文件！\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//原生的转圈等待框\r\n\t\t\t\tvar wt = plus.nativeUI.showWaiting();\r\n\t\t\t\tvar task = plus.uploader.createUpload(that.server, {\r\n\t\t\t\t\t\tmethod: \"POST\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(t, status) { //上传完成\r\n\t\t\t\t\t\tif(status == 200) {\r\n\t\t\t\t\t\t\t//资源\r\n\t\t\t\t\t\t\tvar responseText = t.responseText;\r\n\t\t\t\t\t\t\t//转换成json\r\n\t\t\t\t\t\t\tvar json = eval('(' + responseText + ')');\r\n\t\t\t\t\t\t\t//上传文件的信息\r\n\t\t\t\t\t\t\tthat.files = json.data;\r\n\t\t\t\t\t\t\twt.close();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(\"上传失败：\" + status);\r\n\t\t\t\t\t\t\t//关闭原生的转圈等待框\r\n\t\t\t\t\t\t\twt.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\ttask.addData(\"uid\", that.getUid());\r\n\t\t\t\tfor(var i = 0; i < that.files.length; i++) {\r\n\t\t\t\t\tvar f = that.files[i];\r\n\t\t\t\t\ttask.addFile(f.path, {\r\n\t\t\t\t\t\tkey: f.name\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\ttask.start();\r\n\t\t\t},\r\n\t\t\tgetUid: function() {\r\n\t\t\t\treturn Math.floor(Math.random() * 100000000 + 10000000).toString();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\ttfoot() {\r\n\t\t\t\treturn this.$store.state.tfoot\r\n\t\t\t},\r\n\t\t\tservice() {\r\n\t\t\t\treturn this.$store.state.service\r\n\t\t\t},\r\n\t\t\twindexid() {\r\n\t\t\t\treturn this.$store.state.windexid\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tTHead: resolve => require(['../tourists/thead'], resolve),\r\n\t\t\tTFoot: resolve => require(['./hfoot'], resolve)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style type=\"text/css\" lang=\"scss\">\r\n\thtml,\r\n\tbody,\r\n\t.warpper {\r\n\t\tpadding: 0px;\r\n\t\tmargin: 0px;\r\n\t\tfont-size: .2rem;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.workcamera {\r\n\t\toverflow: hidden;\r\n\t\tp {\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 1rem;\r\n\t\t}\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/health/hwork.vue"],"sourceRoot":""}